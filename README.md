# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```

Описание данных

Стэк приложения:
-TypeScript
-Scss
-webpack


Архитектура проекта
Описание компонентов
Модель
IProduct
Назначение: Интерфейс для представления продукта.
Поля:
id: Уникальный идентификатор продукта.
description: Описание продукта.
image: Ссылка на изображение продукта.
title: Название продукта.
category: Категория продукта.
price: Цена продукта, может быть null.
IBasket
Назначение: Интерфейс для корзины покупок.
Поля:
items: Массив, содержащий идентификаторы продуктов.
Методы:
add(id: string): void: Метод для добавления продукта в корзину по его идентификатору.
remove(id: string): void: Метод для удаления продукта из корзины по его идентификатору.
Basket
Назначение: Класс для управления корзиной покупок, реализующий интерфейс IBasket.
Конструктор: Инициализирует пустой массив items.
Методы:
add(id: string): void: Добавляет продукт в корзину. Если продукт уже есть, просто добавляет его повторно.
remove(id: string): void: Удаляет продукт из корзины по его идентификатору.
ITopay
Назначение: Интерфейс для представления способа оплаты.
Поля:
paymentMethod: Логическое значение, указывающее, используется ли данный способ оплаты.
address: Адрес доставки.
ToPay
Назначение: Класс для управления способами оплаты, реализующий интерфейс ITopay.
Конструктор:
paymentMethod: Логическое значение, указывающее, используется ли данный способ оплаты.
address: Адрес доставки.
IUser
Назначение: Интерфейс для представления данных о пользователе.
Поля:
email: Электронная почта пользователя.
telephone: Телефонный номер пользователя.
User
Назначение: Класс для управления данными о пользователе, реализующий интерфейс IUser.
Конструктор:
email: Электронная почта пользователя.
telephone: Телефонный номер пользователя.
IApiClient
Назначение: Интерфейс для API клиента, описывающий методы для взаимодействия с внешним API.
Методы:
get<T>(uri: string): Promise<T>: Выполняет GET запрос по заданному URI и возвращает Promise с данными типа T.
post<T>(uri: string, data: object, method?: ApiPostMethods): Promise<T>: Выполняет POST запрос по заданному URI с переданными данными и возвращает Promise с данными типа T.
put<T>(uri: string, data: object): Promise<T>: Выполняет PUT запрос по заданному URI с переданными данными и возвращает Promise с данными типа T.
delete<T>(uri: string): Promise<T>: Выполняет DELETE запрос по заданному URI и возвращает Promise с данными типа T.
Представление
IBasketView
Назначение: Интерфейс представления для корзины.
Методы:
updateBasket(items: Map<string, number>): void: Метод для обновления отображения корзины. Принимает карту товаров и их количества для отображения.
BasketView
Назначение: Класс, реализующий представление корзины.
Методы:
updateBasket(items: Map<string, number>): void: Обновляет отображение корзины. Используется для визуального отображения изменений в корзине.
Презентер
IBasketPresenterz
Назначение: Интерфейс презентера для корзины покупок.
Методы:
addProductToBasket(productId: string): void: Метод для добавления продукта в корзину.
removeProductFromBasket(productId: string): void: Метод для удаления продукта из корзины.
BasketPresenter
Назначение: Класс презентера для корзины покупок, реализующий интерфейс IBasketPresenter.
Конструктор:
basket: Экземпляр IBasket для управления логикой корзины.
view: Экземпляр IBasketView для управления отображением корзины.
Методы:
addProductToBasket(productId: string): void: Добавляет продукт в корзину, обновляет корзину и вызывает метод updateBasket у представления.
removeProductFromBasket(productId: string): void: Удаляет продукт из корзины, обновляет корзину и вызывает метод updateBasket у представления.
Взаимодействие компонентов
Создание экземпляров
При запуске приложения создаются экземпляры моделей (Basket, ToPay, User).
Создаются экземпляры представлений (BasketView).
Создаются экземпляры презентеров (BasketPresenter), связывающие модели и представления.
Добавление/Удаление товара в корзину
Пользователь взаимодействует с представлением (например, нажимает кнопку "Добавить в корзину").
Презентер (BasketPresenter) вызывает метод add у экземпляра Basket.
Basket обновляет массив items.
Презентер вызывает метод updateBasket у представления (BasketView), обновляя отображение корзины.
Пример взаимодействия при добавлении товара
Пользователь нажимает кнопку "Добавить в корзину".
BasketPresenter вызывает метод add у экземпляра Basket.
Basket обновляет массив items и уведомляет презентер.
BasketPresenter вызывает метод updateBasket у BasketView, который обновляет интерфейс.
Компоненты приложения
Модель
Basket
ToPay
User
IApiClient
Представление
BasketView
Презентер
BasketPresenter
Реализация процессов в приложении
Процессы в приложении реализованы через событийную модель. Презентеры обрабатывают действия пользователя и обновляют представление, взаимодействуя с моделью для получения и изменения данных. Например, добавление товара в корзину обновляет корзину и вызывает обновление интерфейса корзины.